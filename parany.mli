
exception End_of_input

val run: int -> (unit -> 'a) -> ('a -> 'b) -> ('b -> unit) -> unit
